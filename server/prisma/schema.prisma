generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id       Int    @id @default(autoincrement())
  email    String @unique
  name     String
  password String
  role     Role   @default(USER)
  posttests Posttest[]
}

enum Role {
  ADMIN
  USER
}

model Posttest {
  post_id     Int @id @default(autoincrement())
  student_id  Int
  category_id String
  title       String
  description String?
  status      Post_status @default(OPEN)
  created_at  DateTime   @default(now())
  updated_at  DateTime   @updatedAt //คือทุกครั้งที่เปลี่ยนข้อมูล
  user       User     @relation(fields: [student_id], references: [id])
}

enum Post_status{
  OPEN
  CLOSED
}
